"""
Задача 1: Система авторизации для NLP-платформы / Контекст: Вы разрабатываете систему доступа к AI-моделям. Нужно проверить, может ли пользователь использовать модель
"""
# Данные пользователя
user_role = "admin"
has_api_key = True
model_available = True
request_count_today = 95
daily_limit = 100

# ЗАДАНИЕ: Напишите условие доступа
# Пользователь имеет доступ если:
# - он администратор ИЛИ у него есть API-ключ
# - И модель доступна
# - И не превышен дневной лимит запросов

if user_role == "admin" or has_api_key \
    and model_available and request_count_today < daily_limit: 
    print("Доступ предоставлен")
else: 
    print ("Нет доступа")

"""
Задача 2: Валидатор текста для обработки / Контекст: Перед отправкой текста в NLP-модель нужно проверить его качество
"""

text = "Привет! Как дела?"
banned_words = ["мат", "оскорбление", "спам", "реклама"]

# ЗАДАНИЕ: Соберите финальную проверку
# Текст валиден если:
# - длина от 1 до 1000 символов
# - И не содержит запрещенных слов
# - И НЕ состоит только из английских символов

# Проверки (проверка мата и англоязычного текста написана, нужно реализовать логику)

contains_banned_words = any(word in text for word in banned_words)
is_english_only = all(ord(c) < 128 for c in text if c != ' ')
if 1 <= len(text) <= 1000 and not is_english_only and not contains_banned_words:
    print("Текст валидный")
else:
    print("Текст невалидный")


"""
Задача 3: Система прав модератора / Контекст: Разрабатываем систему прав доступа для модерации контента
"""

# Данные пользователя и системы
user_permissions = ["read", "analyze", "moderate"]
content_categories = ["text", "image"]
current_content_type = "text"

# ЗАДАНИЕ: Определите возможности пользователя
# Может модерировать если:
# - есть права модератора И может обрабатывать текущий тип контента
# Может анализировать если:
# - есть права на анализ И доступен любой контент

if "moderate" in user_permissions and current_content_type in content_categories:
    print("Модерация разрешена")
if "analyze" in user_permissions and content_categories:
    print("Анализ разрешен")

"""
Задача 4: Анализатор тональности отзывов / Контекст: Анализируем массив отзывов для выявления проблем

"""

# ЗАДАНИЕ: Определите характеристики отзывов с помощью следующих проверок
# - Все отзывы позитивные: минимальное значение должно быть > 0
# - Есть хотя бы один негативный: минимальное значение должно быть < 0
# - Есть очень негативные отзывы: минимальное значение должно быть < -0.5
# - Большинство отзывов позитивные

# Здесь произведен расчет всех положительных отзывов
# Вам осталось произвести проверку: их сумма должна быть больше или равна 
# максимально возможной оценке, которую можно получить по всем отзывам

# Тональность отзывов от -1 (очень негативный) до +1 (очень позитивный)

reviews_sentiments = [0.8, 0.6, -0.3, 0.9, 0.7]

if min(reviews_sentiments) > 0:
    print("Все отзывы позитивные")
else: 
    print("Не все отзывы позитивные")
if min(reviews_sentiments) < 0:
    print("Есть как минимум один негативный отзыв")
else:
    print("Негативных отзывов нет")
if min(reviews_sentiments) < -0.5:
    print("Есть очень негативные отзывы")
else:
    print("Очень негативных отзывов нет")

positive_count = sum(1 for _ in filter(lambda x: x > 0, reviews_sentiments))
if positive_count >= len(reviews_sentiments) / 2:
    print("Большинство отзывов позитивные")


"""
Задача 5: Система подписок для NLP-сервиса / Контекст: Проверяем доступ к премиум-функциям AI-сервиса
"""

# Данные пользователя и системы
user_tier = "premium"
subscription_active = True
available_models = ["gpt-3", "bert", "word2vec", "fasttext"]
premium_models = ["gpt-3", "bert", "gpt-4"]
user_quota = {"used": 45, "total": 100}

# ЗАДАНИЕ: Проверьте доступ к функциям
# Доступ к премиум-моделям если:
# - премиум-пользователь И активная подписка
# - И есть хотя бы одна премиум-модель
# - И не превышена квота
# Доступ к базовым функциям если:
# - есть любые модели И не превышена квота

# Эта проверка уже реализована. Напишите остальные и примените их
has_any_premium_model = any(model in available_models for model in premium_models) 

if has_any_premium_model and user_tier == "premium" and subscription_active:
    print("Есть доступ к премиум-моделям")
elif available_models and user_quota["used"] < user_quota["total"]:
    print("Есть доступ к базовым функциям")
